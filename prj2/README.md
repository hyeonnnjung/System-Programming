# System Programming project#2 - MyShell

**과목**: CSE4100 시스템 프로그래밍  
**학번**: 20210428  
**이름**: 정현정  

---

## 프로젝트 개요

MyShell 프로젝트는 **커스텀 Unix 쉘**을 구현하여 **프로세스 제어**, **프로세스 간 통신**, **백그라운드 작업 관리** 등의 시스템 수준 프로그래밍 개념을 익히기 위한 과제입니다. 이 쉘은 사용자가 제공하는 명령어를 실행하며, 각 단계별로 명령어 실행, 파이프 연결, 백그라운드 실행과 같은 기능을 확장하여 Linux 쉘의 동작을 모방합니다.

### 주요 기능

MyShell 프로젝트는 다음과 같은 주요 기능을 포함합니다:
1. **기본 명령어 실행**: `ls`, `mkdir`, `rmdir`, `cd`, `echo`, `exit` 등의 명령어를 처리
2. **파이프라인 연결**: `|`를 사용하여 명령어 사이에 파이프를 설정하고 출력을 다음 명령어의 입력으로 전달
3. **백그라운드 실행**: `&`를 사용하여 명령어를 백그라운드에서 실행하고, `jobs`, `bg`, `fg`와 같은 명령어로 백그라운드 작업을 관리

---

## 프로젝트 구성

프로젝트는 세 개의 단계로 나뉘며, 각 단계는 서로의 기능을 확장하는 형태로 개발되었습니다:

### Phase 1: 기본 명령어 실행

- **개요**: `ls`, `mkdir`, `cd`, `echo`, `exit` 등 기본적인 Unix 명령어를 지원하도록 쉘을 구현.
- **기능**: 사용자 입력을 받아 명령어를 실행하며, `fork()`와 `execvp()`를 통해 자식 프로세스에서 명령어를 실행. `cd`와 `exit`는 부모 프로세스에서 직접 처리
- **주요 기술**: `fork()`, `execvp()`, `waitpid()` 함수를 통해 프로세스 생성을 관리하고, 기본 명령어의 실행 결과를 화면에 출력

[Phase 1 README로 이동](phase1/README.md)

### Phase 2: 파이프라인 연결

- **개요**: 명령어 간 **파이프라인(`|`)**을 설정하여, 한 명령어의 출력을 다음 명령어의 입력으로 사용할 수 있도록 확장
- **기능**: 표준 입출력을 `dup2()` 함수로 파이프에 리다이렉트하여 다중 파이프라인 연결을 구현하였고, 각 파이프의 출력을 다음 명령어의 입력으로 전달
- **주요 기술**: `pipe()`, `dup2()`를 사용하여 파이프를 통해 데이터를 전달하며, 명령어 사이의 파이프 개수에 따라 파일 디스크립터를 동적으로 관리

[Phase 2 README로 이동](phase2/README.md)

### Phase 3: 백그라운드 프로세스 관리

- **개요**: `&`를 사용하여 명령어를 백그라운드에서 실행하고, 백그라운드 프로세스를 관리하는 기능을 추가
- **기능**: `jobs`, `fg`, `bg`, `kill` 명령어를 통해 백그라운드 작업을 조회하고 제어할 수 있으며, 백그라운드 프로세스의 종료와 상태 변화는 `SIGCHLD` 시그널로 감지
- **주요 기술**: `SIGCHLD`, `SIGINT`, `SIGTSTP` 시그널을 적절히 처리하여, 백그라운드 프로세스 상태를 관리하고, `jobs` 배열로 현재 실행 중인 백그라운드 작업의 정보를 유지

[Phase 3 README로 이동](phase3/README.md)

---

## 개발 환경

- **언어**: C
- **개발 및 실행 환경**: Linux
- **필요 라이브러리**: 표준 C 라이브러리 (stdio, stdlib, unistd 등)

---

## 컴파일 및 실행 방법

1. 각 단계별로 제공된 `Makefile`을 사용하여 컴파일할 수 있습니다.
   ```bash
   make
   ```
2. 컴파일 후 `myshell` 실행 파일이 생성되며, 이를 통해 MyShell을 실행할 수 있습니다.
   ```bash
   ./myshell
   ```