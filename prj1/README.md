# System Programming project#1 - MyLib

**과목**: CSE4100 시스템 프로그래밍  
**학번**: 20210428  
**이름**: 정현정  

---

## 프로젝트 개요

**MyLib** 프로젝트는 C언어에서 **리스트**, **해시 테이블**, **비트맵**과 같은 세 가지 자료구조를 구현하고 활용하는 데 중점을 둡니다. 이 프로젝트는 커널 코드에서 일반적으로 사용되는 자료구조들을 분석하여, 각 자료구조의 기능을 명령어를 통해 테스트할 수 있는 **인터랙티브 프로그램**으로 개발되었습니다.

### 주요 기능

MyLib의 주요 기능은 다음과 같습니다:
- **리스트 연산**: 삽입, 삭제, 정렬, 섞기 기능을 포함한 이중 연결 리스트 기능
- **해시 테이블 연산**: 해시 삽입, 삭제, 조회 및 충돌 관리
- **비트맵 연산**: 비트 설정, 해제, 토글 및 확장 기능 제공, 메모리 절약 목적의 비트맵 관리

---

## 프로젝트 구조

- **list.c**: 리스트의 기능을 구현하여 이중 연결 리스트의 정렬 및 셔플 기능을 포함
- **hash.c**: 해시 테이블의 충돌 관리와 동적 크기 조절 기능을 구현, 키와 값을 연결
- **bitmap.c**: 비트맵의 효율적 공간 관리를 위한 비트 수준 연산 구현
- **main.c**: 표준 입력에서 명령어를 읽어 MyLib 기능을 실행하는 인터랙티브 쉘 구현
- **Makefile**: 컴파일을 자동화하여 `testlib` 실행 파일 생성

---

## 주요 기능 설명

MyLib의 각 데이터 구조는 다음과 같은 핵심 기능을 포함하고 있습니다:

### 리스트 (List)

- **list_elem과 list_item 구조체**: `list_elem`은 리스트의 포인터를 포함하며 `list_item`은 데이터를 포함하여 추가로 구현
- **list_swap**: 두 원소의 위치를 맞바꾸며, 인접한 경우와 그렇지 않은 경우 모두 처리
- **list_shuffle**: 리스트 요소를 무작위로 섞기
- **list_unique**: 중복 요소를 제거하고, 필요 시 제거된 요소를 별도의 리스트에 저장

### 해시 테이블 (Hash Table)

- **hash_init**: 해시 테이블을 초기화하고 해시 함수와 비교 함수를 설정하여 각 요소의 고유 위치를 결정
- **hash_int_2**: 해시 테이블 인덱스 계산을 위해, 입력된 정수를 소수인 29로 나눈 나머지를 반환하는 해시 함수. 이 함수를 통해 0에서 28 사이의 해시 인덱스를 생성하며, 데이터가 해시 테이블 내에 고르게 분배
- **hash_insert**: 새 요소를 추가하며, 충돌 발생 시 체이닝 방식으로 연결 리스트를 통해 관리
- **hash_apply**: 해시 테이블의 모든 요소에 지정된 함수를 적용하여 특정 작업 수행
- **hash_find** 및 **hash_delete**: 특정 요소를 찾아 반환하거나 삭제 후 재해싱

### 비트맵 (Bitmap)

- **bitmap_create**: 지정된 비트 수의 비트맵을 생성하고 모든 비트를 초기화
- **bitmap_expand**: 비트맵의 끝에 지정된 개수만큼의 `false` 비트를 추가하여 확장하는 함수. 기존 비트 개수를 보존하고, 새로운 비트는 `false`로 초기화하여 필요에 따라 비트맵 크기를 동적으로 확장
- **bitmap_set 및 bitmap_flip**: 비트의 값을 설정하거나 반전시키는 작업을 수행
- **bitmap_scan 및 bitmap_count**: 특정 범위의 비트를 스캔하여 지정된 값의 연속 범위를 확인하거나, 해당 범위 내 특정 값으로 설정된 비트의 개수를 반환

---

## 인터랙티브 명령어 예시

프로그램은 다음과 같은 명령어들을 통해 MyLib의 데이터 구조를 직접 조작할 수 있습니다 (일부 예시임):

- **create list <name>**: 새로운 리스트 초기화
- **create hashtable <name>**: 새로운 해시 테이블 초기화
- **create bitmap <name> <size>**: 지정한 크기의 비트맵 생성
- **list_push_back <list> <value>**: 리스트에 요소 추가
- **hash_insert <hash table> <key>**: 해시 테이블에 요소 추가
- **bitmap_set <bitmap> <index> <value>**: 특정 비트맵의 인덱스에 비트 설정
- **dumpdata <structure>**: 구조체의 현재 상태를 출력
- **quit**: 프로그램 종료

---

## 컴파일 및 실행 방법

1. **컴파일**:
   ```bash
   make
   ```
   컴파일 후 `testlib` 실행 파일이 생성됩니다.

2. **실행**:
   ```bash
   ./testlib
   ```
   프로그램은 인터랙티브 명령어를 받을 준비가 됩니다.

---